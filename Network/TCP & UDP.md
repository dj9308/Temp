# TCP & UDP

## UDP(User Datagram Protocol)

- 비연결성 프로토콜이다.
- IP 데이터그램을 캡슐화하여 보내는 방법과 연결 설정을 하지 않고 보내는 방법을 제공한다.
- 흐름제어, 오류제어 또는 손상된 세그먼트의 수신에 대한 재전송을 하지 않는다.
  해당 사항은 모두 사용자 프로세스의 몫이다.
- UDP가 행하는 것은 포트들을 사용하여 IP 프로토콜에 인터페이스를 제공하는 것이다.
- 스트리밍같은 신뢰성보다 연속성이 중요한 서비스에 자주 사용된다.
- UDP에는 연결 자체가 없어서(connect 함수 불필요) 서버 소켓과 클라이언트 소켓 구분이 없다.
- 소켓 대신 IP를 기반으로 데이터를 전송한다.
- 서버와 클라이언트는 1대1, 1대N, N대N 등으로 연결될 수 있다.
- 데이터그램(메세지) 단위로 전송되며, 그 크기는 65535바이트로, 크기가 초과하면 잘라서 보낸다.
- 흐름제어가 없어서 패킷이 제대로 전송하는지, 오류가 없는지 확인할 수 없다.



## TCP(Transmission Control Protocol)

- 일반적으로 TCP와 IP를 함께 사용하는데, IP가 배달을 처리한다면 TCP는 패킷을 추적 및 관리하게 된다.
  패킷 : 인터넷 내에서 데이터를 보내기 위한 경로배정(라우팅)을 효율적으로 하기 위해 데이터를 여러 개의 조각들로 나누어 전송을 하는데 이때, 이 조각을 패킷이라고 한다.
- UDP에 비해 신뢰성이 높으며, 순차적인 전달(흐름 제어 및 혼잡 제어)이 가능하다.
- 신뢰성이 없는 인터넷을 통해 종단간에 신뢰성 있는 바이트 스트림을 전송 하도록 특별히 설계되었다.
- 대신 UDP에 비해 속도가 느리다.
- TCP 서비스는 송신자와 수신자 모두가 소켓이라고 부르는 종단점을 생성함으로써 이루어진다. 
- TCP에서 연결 설정은 3-way handshake를 통해 연결을 설정하고 4-way handshaking을 통해 해제한다.
  3-way handshake: 클라이언트가 서버에 접속 가능한지 요청 - 서버는 클라이언트에 접속 가능하다고 응답 - 응답받은 클라이언트는 서버에 데이터 전달.
- 전송이 양방향으로 동시에 일어날 수 있다.(전이중, Full Duplex)
- 멀티캐스팅이나 브로드캐스팅을 지원하지 않는다.



## 정리

| 분류           | UDP            | UDP                      |
| -------------- | -------------- | ------------------------ |
| 연결 방식      | 연결형         | 비연결형                 |
| 패킷 교환 방식 | 가상 회선 방식 | 데이터그램 방식          |
| 전송 순서      | 전송 순서 보장 | 전송 순서가 바뀔 수 있음 |
| 수신 여부 확인 | 확인 가능      | 확인 불가                |
| 통신 방식      | 1:1 통신       | 1:1 or 1:N or N:N 통신   |
| 신뢰성         | 높다           | 낮다                     |
| 속도           | 느리다         | 빠르다                   |



## 출처

[MangKyu's Diary:티스토리](https://mangkyu.tistory.com/15)

[github 기술면접](https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Network)